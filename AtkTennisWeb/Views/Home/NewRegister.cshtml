@model List<Helpers.Dto.AppIdentityRoleDto>
@*<section class="content">
        <div class="content-wrapper">
            <div class="page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins">
                <div class="wrapper wrapper--w680">
                    <div class="card card-4">
                        <div class="card-body">
                            <h2 class="title">Personel Kayıt</h2>
                            <div>
                                <div class="roww roww-space">
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Ad-Soyad</label>
                                            <input type="text" id="name" placeholder="Full-Name" class="input--style-4" autocomplete="new-password">
                                        </div>
                                    </div>
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Giriş Yapacağı Kullanıcı Adı</label>
                                            <input type="text" id="username" placeholder="UserName" class="input--style-4" autocomplete="new-password">
                                        </div>
                                    </div>
                                </div>
                                <div class="roww roww-space">
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Birthday</label>
                                            <div class="input--group-icon">
                                                <input id="birthdate" placeholder="BirthDate (exp: gg.aa.yyyy)" class="input--style-4 js-datepicker" autocomplete="new-password">
                                                <i class="zmdi zmdi-calendar-note input-icon js-btn-calendar"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Gender</label>
                                            <div id="gender" class="p-t-10">
                                                <label class="radio-container m-r-45">
                                                    Male
                                                    <input type="radio" checked="checked" name="gender" value="Male">
                                                    <span class="checkmark"></span>
                                                </label>
                                                <label class="radio-container">
                                                    Female
                                                    <input type="radio" name="gender" value="Female">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="roww roww-space">
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Email</label>
                                            <input type="email" id="email" placeholder="Email" class="input--style-4" autocomplete="new-password">
                                        </div>
                                    </div>
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Phone Number</label>
                                            <input type="text" class="input--style-4" id="phone" placeholder="Phone" autocomplete="new-password">


                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                                </div>
                                                <input type="text" class="form-control" data-inputmask="&quot;mask&quot;: &quot;(999) 999-9999&quot;" data-mask="" inputmode="text">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="roww roww-space">
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Password</label>
                                            <input type="password" id="password" placeholder="Password" class="input--style-4" autocomplete="new-password">
                                        </div>
                                    </div>
                                    <div class="coll-2">
                                        <div class="input--group">
                                            <label class="label">Confirm Password</label>
                                            <input type="password" id="checkpassword" placeholder="Confirm-Password" class="input--style-4" autocomplete="new-password">
                                        </div>
                                    </div>
                                </div>

                                <div class="input--group">
                                    <label class="label">Role</label>
                                    <div class="rs-select2 js-select-simple select--no-search">
                                        <select id="RegistersRole">
                                            <option disabled="disabled" selected="selected">Choose option</option>

                                            @for (int i = 0; i < Model.Count(); i++)
                                            {
                                                <option>@Model[i].NormalizedName</option>
                                            }

                                        </select>
                                        <div class="select-dropdown"></div>
                                    </div>
                                </div>

                                <div class="p-t-15">
                                    <button class="btnn btn--radius-2 btn--blue" onclick="register()">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>*@

<div class="content-wrapper">
    <div class="hold-transition register-page">
        <div class="register-box">
            <div class="card" style="margin-left:-20px; margin-right:-20px">
                <div class="card-body register-card-body">
                    <p class="login-box-msg">Kayıt Formu </p>

                    <div>
                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Adı Soyadı" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Kullanıcı Adı" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input placeholder="Başlangıç Tarihi" type="text" class="form-control" data-inputmask-alias="datetime" data-inputmask-inputformat="dd/mm/yyyy" data-mask="" inputmode="numeric" autocomplete="new-password">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input placeholder="Bitiş Tarihi" type="text" class="form-control" data-inputmask-alias="datetime" data-inputmask-inputformat="dd/mm/yyyy" data-mask="" inputmode="numeric" autocomplete="new-password">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6">
                                <select id="inputState" class="form-control">
                                    <option disabled="disabled" selected>Türü</option>
                                    @for (int i = 0; i < Model.Count(); i++)
                                    {
                                        <option>@Model[i].NormalizedName</option>
                                    }

                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <select id="inputState" class="form-control">
                                    <option disabled="disabled" selected>Durumu</option>
                                    <option>FAAL</option>
                                    <option>ÇIKAN</option>
                                    <option>DONDURULMUŞ</option>
                                    <option>FAHRİ</option>
                                    <option>İSTİFA</option>
                                    <option>ONUR</option>
                                    <option>VEFAT</option>
                                    <option>BELİRTİLMEMİŞ</option>

                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input type="email" class="form-control" placeholder="T.C Kimlik"  autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-envelope"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <select id="inputState" class="form-control">
                                    <option disabled="disabled" selected>Web Rezervasyon</option>

                                    <option>YAPABİLİR</option>
                                    <option>YAPAMAZ</option>

                                </select>
                            </div>
                        </div>
                        <div class="row">

                            <div class="input-group mb-3 col-md-6">
                                <input placeholder="Telefon No" type="text" class="form-control" data-inputmask="&quot;mask&quot;: &quot;(999) 999-9999&quot;" data-mask="" inputmode="text" autocomplete="new-password">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                </div>
                            </div>

                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Tel Açıklama" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input placeholder="Telefon No" type="text" class="form-control" data-inputmask="&quot;mask&quot;: &quot;(999) 999-9999&quot;" data-mask="" inputmode="text" autocomplete="new-password">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                </div>
                            </div>

                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Tel Açıklama" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input type="email" class="form-control" placeholder="Email" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-envelope"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Email Açıklama" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input placeholder="Doğum Tarihi" type="text" class="form-control" data-inputmask-alias="datetime" data-inputmask-inputformat="dd/mm/yyyy" data-mask="" inputmode="numeric" autocomplete="new-password">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Doğum Yeri" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Anne Adı" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Baba Adı" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Şehir" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="İlçe" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Meslek" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group mb-3 col-md-6">
                                <input type="text" class="form-control" placeholder="Not" autocomplete="new-password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <input type="password" class="form-control" placeholder="Password"  autocomplete="new-password">
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-lock"></span>
                                </div>
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <input type="password" class="form-control" placeholder="Retype password"  autocomplete="new-password">
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-lock"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <button type="submit" class="btn btn-danger btn-block">Vazgeç</button>
                            </div>
                            <!-- /.col -->
                            <div class="col-8">
                                <button type="submit" class="btn btn-warning btn-block">Kaydet</button>
                            </div>
                            <!-- /.col -->
                        </div>
                    </div>
                </div>
                <!-- /.form-box -->
            </div><!-- /.card -->
        </div>
        <!-- /.register-box -->
    </div>
</div>


<script>


    $(function () {



        $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
        $('[data-mask]').inputmask()
        $('#reservationdate').datetimepicker({
            format: 'L'
        });
    })

    userObj = {

        name: null,
        username: null,
        phone: null,
        password: null,
        birthdate: null,
        gender: null,
        email: null,
        role: null
    };

    function register() {

        if ($("#RegistersRole option:nth-of-type(1)").text() == $("#select2-RegistersRole-container").text()) {
            alert("rol seçin");

        } else {

            if (($("#password").val() == $("#checkpassword").val()) && ($("#password").val() != "")) {

                userObj.name = $("#name").val();
                userObj.username = $("#username").val();
                userObj.phone = $("#phone").val();
                userObj.password = $("#password").val();
                userObj.birthdate = $("#birthdate").val();
                userObj.gender = "Male";
                userObj.email = $("#email").val();
                userObj.role = $("#RegistersRole option:selected").text();


                try {
                    $.ajax({
                        type: "Get",
                        url: '../Home/Register',
                        cache: false,
                        data: userObj,
                        dataType: "json",
                        async: true,
                        success: function (res) {

                            if (res.fullName != null && res.birthDate != null)

                                $.confirm({
                                    title: "Bilgilendirme",
                                    content: "Kullanıcı Başarıyla Kaydedildi.",
                                    buttons: {
                                        TAMAM: function () {

                                            window.location.href = "NewRegister"
                                        }
                                    }
                                });


                            else
                                $.confirm({
                                    title: "Uyarı",
                                    content: "Kullanıcı Kaydedilirken Hata Oluştu.",
                                    buttons: {
                                        TAMAM: function () {


                                        }
                                    }
                                });

                        },
                        error: function (textStatus, errorThrown) {
                            console.log(JSON.stringify(textStatus));
                            console.log(textStatus);
                        }
                    });
                } catch (e) {
                    console.log(e.message);
                }

            } else {
                alert("Şifreler uyumsuz.");
            }
        }

    }
</script>   